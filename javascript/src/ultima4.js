var ultima4 = {};

ultima4.gameData = (function() {
  var tiles = "data:image/png;base64,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";

  var rleMapData = "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CJKhgCSZBKWboYAesQIICAgeAZvEkcSxgD+RmpGAJqkCCAgICAgICAEICAiXCAgICAKpgCKhBQgICAgFm5mAHqmSCAgICAECA8ShvLGAP5ECAAKRgCehkggICAicCAgIlwgICAiSoYAimQSVCAgIlZOhgB2hkggICAgCAQIHvLG8qYA/kQIBApGAJ6mSCAgHBAgICAinCAgICJKhgCGZlK0Ek6GAHaECCAgICJIBApe0wayxgD+pgCmpAgiXpJcIlwiXCAgCoYAimZyRlAOxgByhAggICJKRAp+k0aypgECZgCqpAggHCAgHBAcICAgInwgICAKhgCLJBAO5gByZqpmSl6ShmJmsqYBumZIICAgICAcICAifCAgICJKZgCSBEoAb4QKfBZSZqJkFpKGAbpkCCAgICAifCAgHCJcICJKZgCbZk6GAHNkCnwWUmaiZlZypgGyZkggICAivCAgICAcICAKZgCe5s6GAHsmSnwUEmbCZlZSpgGyZAggICAi/CAgICAiSmYAnoaMICAgDqYAhuQKfBZSRsJmduYBqoQIICAgInx6fCAhGCAgCqYAloZsICAgIsYAkqQKflQSRsJmdwYBpmZIICAgICK8ICAhMCAiSoYAloQMFCAgIuYAmoZKXlQSZoJmd0YBokZIICAgICAgICAgICAhMTEwICAiSoYAjoZMFCAi5gCipAwedmaCZldmAZ5GSCAgICAgICAhGTEwITEwHTAgICAgCqYAioZOVCLmAKKmTpZGgkZXpgGYBkggICJkICAhMB0wITJ8ICAgIArmAIKGblZSxgCipA6WRoIESgGUBAggICKkICEyvmwcICJK5gB+xA50KBKmAKKmTnZGguZ2hA5mAZJEICAi5CAgIB6MICAcICAgCuYAfqZMICJWUsYAnoQIHnZmguZ2Rk6GAY5EICAjBCAgIAwgICAiXCAgICAK5gB6hkwgICAgFlJOpgCahApeVmai5lQSTqYAbuYBB8aMICAifCAgICAe5gB6ZkwihBKuZgCeZkpeVApGguZ0EA7GAF+GAP5EICAjBCAgICJsIpwgICJ+pgB6BE4AomZKfkpGQoQWhlQTBsLm4gRCAPZEICAi5CAgICAgIAwgIpwgICAifoYAfgROAJ6GSn5KxlZmd2ZjRkIEVgDuRAggICLEICAgICAgICKcICAgICJepgB/BBAiRBZOhgCihmpcCqZ2hlYEkBJ3BgDsBkggICKEICAgICAgICKcICAgICMGAH7kEHggICAYFA6GAKam6nAWxBYERnOmsnbmAO5GSCAgICAgICAgITEwHTK8ICAiSuYAhsQgICJ4Fk6GAKcECl5wF+QUEsazRvKW5gDuRkggICAgICEyXTExMpwgICJKxgCOxCAielQSTmYArsZKfBAL5lZSRrNnMncmAOZmSCAgICAhMTJdMpwgICAgCsYAlsQiWlZSTmYAtqZqXkgGiyZ204eQF6YA0oZIICAgICAdMB0xMTAdMTAgICAgHqYAnqaWUk6GAL6kCnwIBApeSAZ2ppZzZ9JmV4YAxoQIICAgICAhMTExMRkxMTAcICAiXqYAnyQSToYAxoZKXAgGSl5MEBbmt0YQQka3hgC6hkggICAgICEyXTExMB0xMCAgIB7GAKfGAM5mSBwKRkpeU0ZWx7J20vemALKECBwhMRggICJdMTEyfTAgICAK5gCrZgDaRopGSn5Lx7J0Clby1oZ2xgCqpAwdMTEwICAgITEwHTEyXCAgICJKxgCy5gDmhApmSn5rZleSdkpXEpaGtoYApqZOXTAgICAgICEyXTEwICAgICAiSsYAtoYA8uZqfmpECsZ3UlQKVF5XUlamUnZmAFKmAEKGjBwgICAgICAgICAgICAgICAgICAgIuYBvsaqhkqmtxJWqlczBlJWZgBORmpnwoaOSCAgICAgICAgICAgICAgICAgICAgHqYBy4ZqhtbydF5UCmbSBEYATAZJMkpnwoZORkggICAgICAgICAgICAgJCAgICAifoYBzyZIHAqm1tJWSBQsFoaS5kMGAFAECTEZMAqngwZIICAgICAiXCAgICJQICAgICAiXoYB0wQKXkqmdn7QFAp0E6bCpgBUBkkyykdjBAggICAgIrwgInAgICAgICAepgHWpmp+SoZKvrJ2c4YAgmbJMkgHguQcICAgICAcCnwgIlwgICAgICAipgHahlAKXBJeamaKn1NGAIbGSTEZMAgHgsZcICAgICJqvCAgICAiSoYB5obSfArGSl5yntLmAIZGakZpMkgHoqZ8ICAiSAQIIpwgIoqGAeqmcAay5AqyRn7SpgCIBkkzCkeixlwgIkpECCAiXCAiSuYB70ZzJnKmXrKmAIgECTEZMmqn46ZIICAgICJKxgH3RlIETpKmAIwGSTJKRgBXpkggICAgIAqGAgckEgRyAI5GakYAX6QIICAgICAKZgIWBIoAlqYAaqZChkggICJKZgIfJoKGgyYBPmaqZgIqpgBCpgFLJgIyZgGqpgP+A/4AS";

  var font = "ffffffffffffffffffffffffffffffff00ffffffffffffff00ffffffffffffffffffffffffffff00ffffffffffffff0000ffffffffffff0000ffffffffffff003f3f3f3f3f3f3f3f3f3f3f3f3f3f3f3ffcfcfcfcfcfcfcfcfcfcfcfcfcfcfcfc3c3c3c3c3c3c3c3c3c3c3c3c3c3c3c3cffc3c3c3c3c3c3ffffddffffffffddff00030f1f3f3f7f7f00030f1f3f3f7f7f00c0f0f8fcfcfefe00c0f0f8fcfcfefe7f7f3f3f1f0f03007f7f3f3f1f0f0300fefefcfcf8f0c000fefefcfcf8f0c000183c7e181818181818181818187e3c18183c7e18187e3c180000387c7c38000000030f3f3f0f030000030f3f3f0f030000c0f0fcfcf0c00000c0f0fcfcf0c000000000000000000000181818180018180036366c00000000006cfe6c6cfe6c0000103c70381c78100000666c183666000070d8d876dcdc760018183000000000000c18303030180c0060301818183060000010387c381000000018187e1818000000000000181830000000007c000000000000000000181878cccc78fc30303000386c6c6c6c6c38000818381818183c00386c0c1830607c00386c0c380c6c38006c6c6c7c0c0c0c007c60780c0c6c38000c1830786c6c38007c0c0c1830303000386c6c386c6c3800386c6c3c18306000001818001818000000181800181808000c18306030180c0000007c007c0000006030180c18306000386c0c18001818ffffffffffffffff000e1e36363e3666007c36363c36367c001c36606060663c007c36363636367c007e30303c30307e003e30303c303060001c3660606e663c006666667e666666007e18181818187e003e06060666663c00666c7870786c66003030303030386e0042667e7e666666004666767e6e6662003c66666666663c007c66667c606070003c666666666c36007c66667c6c6666001c36603c06663c007e181818181818006666666666663c0066666666663c1800666666667e66420066663c183c6666006666663c181818007e060c7e30607e007c60606060607c001e0e1a386c6c38007c0c0c0c0c0c7c000010386c0000000038fefefefe38000000007e7e3c7e000000003c6c6c6c360030303c3636366c0000003c6660663c000c0c3c6c6c6c360000003c667e603e001c36307e3030600000003c663e067c00606060786c6c66000018001818183c000c000c0c6c6c38006060666c786c66003818181818183c00000042667e66660000006c766666660000003c6666663c0000007c667c60700000003e663c0c060000006c766060600000003c603c067c0030307c3030361c0000006c6c6c6c360000006666663c1800000066667e6642000000663c183c6600000066663e0c380000007e0c18307e003c66663c183c18007cfec6d6decc600078fcccd8c2fe7c000c66f6d6c6fe7c007cfe8636667e3c";

  var rleTownMaps = "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enF6emx6en8F3JYFBH8+Pj4+Pn8+Pj4+Pj4+Pn+UlqyWlAU3BH9/fX8+Pn8+Pnx6ens+PjqUlqyelAUEnX8+Pn8+Pn0+Pn0+Pn8FpJaclgSVlJV/Pj5/Pj4+Pj4+Pj5/BgWUnqyVpAV/Pj5JPj4+Pj4+Pj5/lpWWvTesSUl/fz4+Pj4+Pj4+f39/f39/f39/f39/fX9/f6R/Pjx/BT4+Pj4+PgV/Pj4+fHs+Pj5/Pj4+Pj5/pH88PH+VPj4+PpV/Pn0+Pj4+fT5/Pj4+Pj5/pH9/f39/f38+Pn9/f38+Pj4+Pj4+Pjs+Pj4+Pn2kf5U+Pj4+Pj4+AgF/Pj4+Pj4+Pj5/Pj4+Pj5/pH8FPj4+Pj4+Pj4CAX96Z2Rga2Rxen8+Pj4+Pn+kfz4+Pj4+Pj4+PgIBfz4+Pj4+Pj4+fz4+f39/f6R/Pj4+f39/f39/f39/f39/f39/f39/Pj5/vH8+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pn+8fz4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+f5ySlH8+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pn+UogR/Pj5/f39/f39/Pj4+Pj5/f39/f39/Pj5/BLJ/Pj5/f0U9RX9/Pj4+Pj5/Pj4+Pj5/Pj5/mpSSfz4+fxYWFhYWfz4+Pj4+fz4+Pj4+Oz4+f5KkAn8+PjsWFhYWFn8+Pj4+Pn8+Pj4+Pn8+Pn8CnH9/fX8+Pn9/f39/f38+Pj4+Pn9/f39/f38+Pn99f38Efz4+Pj4+f5KkPj4+Pj6UNwSSfz4+Pj4+fwR/Pj4+Pj5/ojcEPj4+Pj6Uon8+Pj4+Pn8EfT4+MD4+fbI+Pj4+PrJ9Pj4wPj59BH8+Pj4+Pn8Fqj4+Pj4+qgV/Pj4+Pj5/BH8+Pj4+Pn83lZo+Pj4+Ppo3lX8+Pj4+Pn8Ef39/fX9/f5WkPj4+Pj6sBX9/f31/f3+Uf399f3+VtJq0lX9/fX9/lH9/Pj4+f3+VpAKZAqSVf38+Pj5/fwR/Pj4+Pj5/nZQCAZgBApSdfz4+Pj4+fwR9Pj4wPj5/f39/SX9/f39/f39/f0l/f39/Pj4wPj59BH8+Pj4+Pj4+Pj4+f3JkbXNxaHp/Pj4+Pj4+Pj4+Pn8Ef38+Pj4+Pj4+Pj5/Pj4+Pj4+Pn8+Pj4+Pj4+Pj5/fwQFf39/f39/fz4+Pkk+Pnx6ez4+ST4+Pn9/f39/f38FBJ1/PD4+Pj4+An8+Pn0+fT4+fwI+Pj4+Pjx/nZSVfzw8Pj4+AgF/Pj4+Pj4+Pn8BAj4+Pjw8f5WkBX88PDw+AgEAfwU+Pj4+PgV/AAECPjw8PH8FtH9/f39/f39/f39/Pj4+f39/f39/f39/f3+8f3pgYmBjZGx4en8+Pj5/BT4+Pn99Pnx6f7x/Pj4+Pj4+Pj4+fz4+Pn8+Pj4+Oz4+Pj5/vH8+Pz8/Pz8/Pz47Pj4+Oz4+Pj5/fT58en+8fz4/Pz8/Pz8/Pn8+Pj5/Pj4+Pn9/f39/f7x/Pj8/Pz8/Pz8+fz4+Pn8+Pj4+Pj4+PgV/vH8+Pz8/Pz8/Pz5/Pj4+fz4+Pj4+Pj4+Pn+8fz4/Pz8/Pz8/Pn8+Pj5/Pj4+Pj4+Pj4+f7x/Pj8/Pz8/Pz8+fz4+Pn96Z2Rga2htZnp/vH8+Pj4+Pj4+Pj5/Pj4+fz4+Pj4+Pj4+Pn+8f39/f39/f39/f38+Pj5/f39/f39/f39/f7x/BT4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj5/tAV/Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj5/BaSVfz4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+f5WUnX8+Pn9/f39/f39/Pj4+f39/f39/f38+Pn+dBAV/f38+Pn8+Pj4+fz4+Pj4+Pj5/Pj4+Pn8+Pn9/fwUEf38+Pj4+Oz4+Pj5/Pj4+Pj4+Pn8+Pj4+Oz4+Pj5/fwR/Pj4+Pj5/Pj4+Pn9/fz4+Pn9/fz4+Pj5/Pj4+Pj5/BH0+PjA+Pn9/f39/fzcEPj4+lH9/f39/fz4+MD4+fQR/Pj4+Pj5/pZw+Pj4ENwSlfz4+Pj4+fwR/fz4+Pn9/nQQ3lD4+PqSdf38+Pj5/f5R/f31/f52sPj4+nDcEnX9/fX9//AV/f39/f39/f39/f39/f39/f3+c3X8+Pj4+Pj4+f5p/Pjw8PH+U5X9zZ2R6aG1tfz4+Pjs+Pj48fwSlvJV/Pj4+Pj4+Pn8+Pj5/ez58en8EncwFfz4+Pj4+Pj5/Pj4+f39/f39/BJXcfz4+Pj4+Pj47Pj4+fz4+fHp/BJWsPKx/Pj4+Pj4+fX8+Pj47Pj4+Pn8Eldx/Pj4+fHp7BX+af3s+fHp/BJXcfz4+Pn9/f39/f39/f39/f39/BJXkPj4+naS1lJWsmqQ+Pj6VvK0ElaSSAZKUBT4+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f39/Pj4+f39/f39/f39/f39/f50+Pj6VtJU+Pj69pn9/nT4+Pp2knT4+PpWklZ5/f5UEPj4+Pj4+Pj4+Pj4+Pj4+PgW0lZZ/f5UEPj4+Pj4+Pj4+Pj4+Pj4+PsQFln9/BZQ+Pj4+Pj4+Pj4+Pj4+Pj4+xJUGfz4+Pj4+Pj6iPj4+leSVBn8+Pj4+Pj4+ApECPj4+BeSlfz4+Pj4+Pj6iPj4+5K1/f50+Pj4+Pj4+Pj4+nH9/f39/f39/f39/nX9/nT4+Pj4+Pj4+Pj4FlH9/Y3Rka2htZn9/nX9/nT4+Pj4+Pj4+Pj6VBH8+Pj4+Pj4+Pj5/nX9/BKWUnT4+Pp1/enZkYG9ubXJ6fwSVf3+UlaSVPj4+Pj4+Pj4+Pj4+Pj4+Pn8ElX9/BbyVPj4+Pj4+Pj4+Pj4+Pj4+Pn+UBX9/lbwFPj4+Pj4+Pj4+Pj4+Pj4+Pn8ElX9/Bp20tX96YHFsbnRxeHp/nX9/npW0rX8+Pj4+Pj4+Pj5/BZZ/f64FxJV/f2tobGhzZGN/f55/f0REREQGlcQFf39/f39/f39/f3+WBX9/nESWBYQQlZYFlH9/nESWlfSVnpx/f5xEnpXknZYFnH9/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f6Q5OYQROTk3N8Q3OYITOTc3vDk5OTk5OTk5OeU5OTfEOQI5Pj4+Pj457TfUAjlnZHFhcjkFNzeUNwQ3BDcEN+QCOT4+Pj4+OTeEEjc3nAI5Pj4+Pj4+hBI3NzecAjk+Pj4+PjmEETc5OTmcAjk5OTk5OTm8NwQ3BDcENwQ3lTkCOZwCtTe85QKkArU3tDcFf39/f39/f39/f38CnDkCOZ03N7w3BX9zZ2R7Pj47Pj5/Apw5OTkFNzfMNwV/Pj4+Oj4+f3p6fwIENwQ3BDc35Dd/aG1tez4+f39/fwKEFD4+Pj4+Pj4+Pj5/Auw9tD4+Pj4+Pj4+Pj5/AoQUPj4+Pj4+Pj4+Pn8CBDcENwQ37Dd/ZW5uY3p6ZW5xfwKcOTk5N9w3BX8+Pj4+Pj4+Pj5/Apw5AjkFN9Q3BX96c2dudGZnc3p/AqQClTecNzesNwV/f39/f39/f39/fwKkApU3lDeVN6zlAqQClTeUN52sN90CpAI5OTk+Pjk5OQU3tDcENwQ3BDeVOQI5nAI5Pn0+Pn04OZX0Nzk5OZwCOT4+Pj4+PjmVN/Q3NzecAjk+Pj4+Pj45pTfsNzecAjlseHJzaGI5tTcENwQ33DkCOT4+Pj4+PjnlN8w5OTlnZGBrZHE53Tk5N8w3OYITOTc3zDk5hBE5OTc33Dk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5rAM5m6XTvDmkkzmTrZS7xDmckwI5A62so39/f39/f3+UOZyTAjkDraSVkz4+Pj4+Pj5/lDmcA5KTBKWknX92ZGBvbm1yfwQDOZwDkgOcpZSlfz4+Pj4+Pj5/BAM5nJoDpJWcpTk+Pj4+Pj4+f5M5lJqT1JU3BT4+Pj4+Pj6bOZSaA+SdOTc+Pj43ozmUmgMF5KU+Pj6VmzkEmpOVlAU+lD4+BD4+PgU+BT4+PpUEkzkEmpulPj4EPpQ+Pj4+BT6VPgWUBQM5GQIZGRmTnT4+BT4+Pj6UPj4+Pj61AzkDPz8CPz4DPj4+Pj6dpJ0+Pj6lljk/PwI/Az6TPj4+Pj4FpJUGfz4+Pjd/f545Az8/P5M+Az4FPj4+pJWWfz4+Pj4+Pn+WOQMaAhoam50+BZyVpj4+Pj4+Pn+WOQSaowSVPj6Uf39/f39/fz4+Pj4+Pn+WOQSam5wFPj6Ufz4+Pj4+f2A+bG50cX+WOQSiA6Q+nAN/Pm90YXp/Nz4+Pj4+f5Y5lJoDpD4+PgQDfz4+Pj4+f39/f39/fzeWOZSak6Q+PpN/Pj4+Pj5/Pj4+Pj4+f5Y5lAOaA6Q+mzcDPj4+Pn96ZW5uPj5/BgU5nAOSA5w+Pj6bNz4+Pn9/Pj4+Pj4+f5U5nJMCA5w+lD4+PgM+Pj4EPj4+Pj4+Pn8FBDmkAwKTlD4+BD6TPj4+BD4+Pj4+Pj4+f5Q5pJM5A6Q+Pj4DPj4+BD4+Pj6TPj5/BAM5rAM5A8STnDd/fzeTf3+TOawDOZPEA6zDObQ5m7QDrMs5tDk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5hBTVOTmcf39/f39/f3/Ef39/f39/f3+dOTmUf38+Pj4+Pj5/f39/f39/f39/ZW5ra2R4f3+VOTmUf39gcWxudHF/f0dFfHtFR38+Pj4+Pj4+Pn+VOTmUf30+Pj4+Pj59f0Q+Pj4+RH96c2B1ZHFten+VOTmUfz4+Pj4+Pj4+ST4+Pj4+Pn8+Pj4+Pj4+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";

  var townInhabitants = "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000201c18201c1800012f0f022e0f020010510904500904010e5111115011110009500d11500d110009501c1d501c1d01092c16182c1618010f500709500709010e50070b50070b010e510b0b500b0b010e510b09500b09010e500202500202010951041b50041b0109560f17560f17010d381415381415000c511d05501d0501092f15052e1505010b021508021508000a52151b52151b800052091b52091b800050111d50111d0009500d1d500d1d00090000000000000000000000000000000000000000000000000000000000000000000000000000000059071d58071d0010201d1d201d1d010f511707501707010e560e0c560e0c010d511a11501a110000381b0f381b0f000b381b0d381b0d000b38160f38160f000b2d041b2c041b010a2b021b2a021b010a27021d26021d010a20041d20041d010a200f17200f170009260302260302010820060e20060e000c51181b50181b000050061b50061b000053190b52190b000021130b20130b000750120f50120f0006510f0f500f0f0006260a04260a040005201502201502010450111c50111c0003510d1c500d1c00031f110a1f110a00021f100a1f100a000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000261d1a261d1a00102b120c2a120c000f580918580918000e2c1c062c1c06000d291d02281d02000c271609261609000b231502221502000a52100552100500095a0f155a0f1500085402145402140007510c0c500c0c000650090c50090c000650111a50111a0006510d1a500d1a00065006105006100105501b0e501b0e0105511a1b501a1b010550041b50041b010551020250020201053d09163d09160004521617521617010353131052131080001f0b071f0b0700021f0a071f0a07000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002a0e152a0e150010850f02840f02010f240305240305010e580b1d580b1d000d50031a50031a000c511b1a501b1a000b25161a24161a010a25081a24081a01095107095007090008500707500707000851070850070800085017075017070008501708501708000851170950170900085111095011090007510d09500d090007240c0c240c0c00062c09102c091001052c06102c061001052518112418110004381a0c381a0c00035111195011190001500d19500d19000152161352161380001f0f071f0f07000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020100f20100f01105b1c115a1c11000f570407560407010e20060e20060e000d52151c52151c000c580216580216000b21150a20150a000a20031b20031b000921051c20051c0108381c16381c1600072e1c142e1c140006530519520519010052191c52191c8000521a0d521a0d80005b18065a1806010520140620140600042b12062a120600035312015212018000221c03221c0300022108052008050001230115220115000e26041b26041b010d5b0e1d5a0e1d010a5b101d5a101d010a5b101b5a101b010a59130958130900102e0f1c2e0f1c010b2e1e022e1e02010f500e04500e04000938011a38011a000c510111500111000951010d50010d0009241403241403010725110524110501072514052414050007000000000000000055110354110300082508062408060107230404220404010550141650141600045114195014190004561d1d561d1d01025b1b1c5a1b1c00035a1c1b5a1c1b0003531a0d521a0d010052140152140180005212075212078000520508520508010053050252050280005b1d1c5a1d1c000353041e52041e8000541c1d541c1d00015112145012140000500413500413000050050a50050a01000000000000000000000000000000000051150e50150e0000250b12240b12011025140f24140f010f250f07240f07010e520b17520b17010d2c15192c1519000c530101520101800be3011ee0011e010a241b14241b140009521b0c521b0c0008510511500511000750050d50050d0007510311500311000750030d50030d00072416082416080106251a06241a06010538050838050800042f1b182e1b1801032405172405170002530805520805010053090552090501005307055207050100521804521804800052180a52180a8000521912521912800052161b52161b000024101a24101a0001000000000000000026160326160301102603182603180110271016261016011027161126161101102712112612110110500512500512000f510b0e500b0e000f531809521809010e531609521609010e591718581718000d5a0d195a0d19000c00000000000000002c05162c0516010b00000000000000002d07172c0717010b520d05520d05010a590d08580d080009590d09580d09000927040f26040f0008260607260607000726070626070600074b06064b060600062717082617080005271e11261e11000452161a52161a80005207195207198000501107501107010351120c50120c000350180e50180e000250160e50160e00022706052606050001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500111500111001051010d50010d00105112185012180010500e18500e180010511b0f501b0f0010510e11500e110010501211501211001050120d50120d0010500e0d500e0d0010281713281713010f280e04280e04000e290a1d280a1d000d2f1c182e1c18000c220e1a220e1a010b290511280511000a5a06035a060301092d13062c13060008531c09521c090007521a07521a070006591c03581c0300055a1d075a1d070004581805581805000329191c28191c0102530f1d520f1d8000530f02520f028000291909281909000100000000000000000000000000000000000000000000000000000000000000005110185010180010511014501014001051030950030900105107095007090010511409501409001051100950100900100000000000000000200c1c200c1c010f51010d50010d000e510111500111000e251004241004000d2a07162a0716010c211c16201c16000a52190352190301092a060f2a060f00082b180d2a180d010b5b1e1e5a1e1e00075c1d1d5c1d1d01002a14172a141700062418152418150005c41e09c41e090004240807240807000320011e20011e0002521619521619010052151352151380005211025211028000520401520401ff002a02052a02050001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b1d095a1d09000f580b03580b03000e3d0c0f3d0c0f000d240c10240c10000c220d0f220d0f000b200c0e200c0e000a25091a24091a00092d1a0f2c1a0f01085c060a5c060a01005c05155c05150100530c1d520c1d01072d1d022c1d020006590200580200000521080520080500042d16102c16100003380a18380a180002521812521812800053150c52150c8000530503520503010052061c52061c80002d0a0f2c0a0f00010000000000000000000000000000000000000000000000000000000000000000cd1e01cc1e01ff0ff0090ff0090f00109e0e079c0e07010ec71719c41719010dc51716c41716000cc71115c41115000bc70902c40902000ac60803c408030009c50701c407010008c50c19c40c1901079f17069c170600069d19049c190400059d1a129c1a1200049d1b1e9c1b1e01029f1e1b9c1e1b01029c1c1d9c1c1d01029e1d1c9c1d1c01029c1e1c9c1e1c01029c1c1e9c1c1e01029f1d1d9c1d1d01029c1d1e9c1d1e01029e1e1d9c1e1d01029d1e1e9c1e1e01029d0e0f9c0e0f01029c12139c12130002c71416c414160102c71315c4131500032e011e2e011e0001000000000000000000000000000000000000000000000000540114540114000f57080f56080f010e250506240506000d250505240505000c5b0e0b5a0e0b010b2c011e2c011e000a2f161f2e161f000927061926061900082409052409050007200c02200c02000652170852170800052014062014060004241b08241b080003521b19521b190002521119521119800050090d50090d00005d17165c17160100151b14151b140100141a16141a160100510f11500f11000051160d50160d00005c16155c1615ff00141e14141e1401105306035206038000530f08520f0880005219045219040100521604521604010052071b52071b800050041050041000010000000000000000ff0a07fc0a07ff00521109521109000ecb1710c81710000de10e06e00e06000cc2060bc0060b010ba41b0aa41b0a000ae21b1ce01b1c0009881e15881e15ff00890208880208ff00880214880214ff00cb190cc8190c000820061c20061c0007ca1806c818060105c80c18c80c1801035311185211180010cb0b15c80b150003280718280718000fca0f18c80f180103c80616c806160003cb0a13c80a13000451130e50130e0002510c12500c12000251091250091200022c0f162c0f16000653081a52081a8000521612521612010052180a52180a01005218085218080100520809520809000051050e50050e0001510510500510000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c90715c8071501102b0f132a0f13000f5a19095a1909010e57060b56060b010d2e09122e0912000c2d131e2c131e010b511419501419000a2e130b2e130b00092e140a2e140a00082e14092e140900072e12092e12090006530d19520d190105290f18280f1801042e091b2e091b00035208175208178000530f1b520f1b0180530f15520f1580005317145217140100501d0d501d0d0002511d11501d110002500211500211000250020d50020d0002e11002e010020001e20f02e00f02000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020031a20031a0010210419200419000f210318200318000e210219200219000d260f09260f09000c521a18521a18000b8a0f128a0f12010a2613042613040009e01d19e01d190008521319521319000755141854141800063d1b013d1b010005e00308e003080004530c19520c190003260a0f260a0f000253191b52191b80005a0c035a0c0300010000000000000000000000000000000000000000000000005b0a0c5a0a0c01005b0d0a5a0d0a01005a0d085a0d0801005715095615090103500410500410010450020250020201045904165804160007511c02501c020104501c1d501c1d010451161b50161b0104e2021de0021d01085904145804140007590714580714000758041258041200075805135805130007b30e17b00e17000650140d50140d000451120d50120d0004530b06520b060105530906520906010550111d50111d0000510d1d500d1d0000500c13500c1301045112125012120004511214501214000457130a56130a010355110b54110b000052110852110800025e13075e13070001";
 
  function rleDecode(data) {
    var buf = "";
    for (var i=0; i<data.length; i++) {
      var c = data.charCodeAt(i);
      if (c >= 128) {
        var code = c & 7;
        var n = (c>>3) & 15;
        if (n == 0)
          n = data.charCodeAt(++i);
        if (n == 0) {
          n = 1;
          code = data.charCodeAt(++i);
        }
        for (var j=0; j<n; j++)
          buf += String.fromCharCode(code);
      } else {
        buf += String.fromCharCode(c);
      }
    }
    return buf;
  }

  return {
    tiles: tiles,
    worldMap: rleDecode(atob(rleMapData)),
    font: font,
    townMaps: rleDecode(atob(rleTownMaps)),
    townInhabitants: townInhabitants
  };
}());

ultima4.main = (function() {
  function parseHexByte(s, n) {
    return parseInt(s.substr(n*2, 2), 16);
  }

  function getTileAt(x, y, town) {
    var tile = getInhabitantTileAt(x, y, town);
    if (tile)
      return tile;
    else if (openDoor && openDoor.x==x && openDoor.y==y)
      return tileType.stoneFloor;
    else
      return typeof town == "undefined" || town == null ? 
      getMapTileAt(x, y) : 
      getTownTileAt(x, y, town);      
  }

  function getMapTileAt(x, y) {
    return worldMap.charCodeAt(y*256+x);
  }

  function getTownTileAt(x, y, town) {
    return (x>=0 && x<32 && y>=0 && y<32) ?
      townMaps.charCodeAt(town*1024+y*32+x) : tileType.grass;
  }
  
  function getInhabitantTileAt(x, y, town) {
    if (town!=null && town>=0 && town<=16) {
      var a = townInhabitants[town];
      var tile = null;
      a.forEach(function(h) {
        if (h.x==x && h.y==y)
          tile = h.tile;
        if ((tile>=0x20 && tile<=0x2F) || (tile>=0x50 && tile<=0x5F))
          tile = tile & 0xFE | randomIntBetween(0, 1);
      });
      return tile;
    } 
  }

  function drawChar(g, c, fgColor, bgColor, x, y) {
    if(c>=0 && c<=127) {
      for (var row=0; row<8; row++) {
        var b =  parseHexByte(ultima4.gameData.font, c*8 + row)
        for (var i=7; i>=0; i--) {
          g.fillStyle = (b & (1<<i)) ? fgColor : bgColor;
          g.fillRect(x+8*2-(i+1)*2, y+row*2, 2, 2);
        }        
      }
    }
  }

  function drawText(g, s, fgColor, bgColor, x, y) {
    for (var i=0; i<s.length; i++) 
      drawChar(g, s.charCodeAt(i), fgColor, bgColor, x+i*8*2, y);
  }

  function drawCharLine(g, c, fgColor, bgColor, x, y, dx, dy, n) {
    for (var i=0; i<n; i++, x+=dx, y+=dy) 
      drawChar(g, c, fgColor, bgColor, x, y);
  }

  function drawTile(g, tile, x, y, frame) {
    if (typeof frame == "undefined")
      frame = 0;
    frame = tilesAnimated.indexOf(tile) == -1 ? 0 : frame % 16;
    g.drawImage(tiles, (tile%16)*16, Math.floor(tile/16)*16, 16, 16-frame, x, y+frame*2, 32, 32-frame*2);
    g.drawImage(tiles, (tile%16)*16, Math.floor(tile/16)*16+16-frame, 16, frame, x, y, 32, frame*2);
  }

  function drawViewport(g, mapX, mapY, town, frame) {
    var ox = 16 + 5*32;
    var oy = 16 + 5*32;
    for (var y=-5; y<=5; y++) {
      for (var x=-5; x<=5; x++) {
        var  tile = !isTileInLineOfSight(x, y, town) ? tileType.empty : getTileAt(mapX+x,mapY+y,town);
        drawTile(g, tile, ox + x*32, oy + y*32, frame);
      }
    }

    drawTile(g, 31, ox, oy);

    function isInViewport(x, y) {
      return x>=mapX-5 && x<=mapX+5 && y>=mapY-5 && y<=mapY+5;
    }

    function isTileInLineOfSight(x, y, town) {
      var blockingTiles = numberOfSightBlockersOnLine(0, 0, x, y, town);
      if (blocksView(getTileAt(mapX+x,mapY+y,town)) && blockingTiles <= 1) {
        return true;
      } else {
        return blockingTiles == 0;
      }
    }

    function blocksView(tile) {
      return [tileType.mountain, tileType.forest, tileType.wall, tileType.wallSecretDoor].indexOf(tile) != -1;
    }

    function numberOfSightBlockersOnLine(x0, y0, x1, y1, town) {
      var origX1 = x1;
      var origY1 = y1;
      var steep = Math.abs(y1-y0) > Math.abs(x1-x0);
      if (steep) {
        var tmp = x0;
        x0 = y0;
        y0 = tmp;
        tmp = x1;
        x1 = y1;
        y1 = tmp;
      }

      if (x0 > x1) {
        var tmp = x0;
        x0 = x1;
        x1 = tmp;
        tmp = y0;
        y0 = y1;
        y1 = tmp;
      }

      var deltaX = x1 - x0;
      var deltaY = Math.abs(y1 - y0);
      var error = 0;
      var deltaError = deltaY/deltaX;
      var ystep = (y0 < y1) ? 1 : -1;
      var y = y0;
      var blockingTiles = 0;
      for (var x=x0; x<=x1; x++) {
        var tile = steep ? getTileAt(mapX+y,mapY+x,town) : getTileAt(mapX+x,mapY+y,town);
        if (!(y == 0 && x == 0) && blocksView(tile)) {
          blockingTiles += 1;
        }
        error = error + deltaError;
        if (error >= 0.5) {
          y += ystep;
          error -= 1.0;
        }
      }
      return blockingTiles;
    }
  }

  function drawScreenFrames(g) {
    frameCharLines.forEach(function(l) {
      drawCharLine(g, l[0], palette[14], palette[l[1]], l[2], l[3], l[4], l[5], l[6]); 
    });
  }

  function update() {
    var time = new Date().getTime();
    var wasWork = false;
    if (key == keys.F1)
      isPause = !isPause;
    if (!isPause) {     
      frame++;
      if(frame > frameLastCommand + 32*4)
        key = keys.Space;
      if(key) {
        window.console.log("update(): frame: "+ frame + ", key: "+ key);
        var command = activeCommand ? activeCommand : commands[key];
        if (command) {
          if(command(activeCommand ? key : null)) {
            round++;
            frameLastCommand = frame;
            activeCommand = null;   // Command ready, no input neede
            console.writePrompt();
          } else  {
            activeCommand = command;  // Input needed
          }
        } else {
          if (key != keys.F1) {
            console.write("WHAT?\n\n");
            console.writePrompt();
          }
        }
        wasWork = true;
      } else
        console.drawCursor(canvas.getContext("2d"));      
      if (openDoor && round>openDoor.openRound+4)
        openDoor = null;
      repaint();
    }
    key = null;
    time = new Date().getTime() - time;
    if (wasWork)
      window.console.log("frame time: "+ time +" ms");
    setTimeout(update, Math.max(50, frameTimeMs - time));
  }

  function repaint() {
    var g = canvas.getContext("2d");
    if (hints.clearScreen) {
      g.fillStyle = '#000';
      g.fillRect(0, 0, canvas.width, canvas.height);
      hints.clearScreen = false;
    }
    if (hints.redrawScreenFrames) {
      drawScreenFrames(g);
      hints.redrawScreenFrames = false;
    }
    drawViewport(g, state.x, state.y, state.town, frame);
    if (hints.drawInfo) {
      drawText(g, "1-TSU      125G", palette[1], palette[0], 24*16, 1*16);
      drawText(g, "2-MKA      125G", palette[1], palette[0], 24*16, 2*16);
      drawText(g, "F:0200   G:0200", palette[1], palette[0], 24*16, 10*16);
      drawText(g, "WIND SOUTH", palette[1], palette[0], 7*16, 23*16); 
      hints.drawInfo = false;
    }
    if (hints.drawConsole) {
      console.draw(g);
      hints.drawConsole = false;
    }
  }

  function mutatePosByDir(pos, dir) {
    var m = dirPosMutations[dir];
    return m ? { x: pos.x+=m.x, y: pos.y+=m.y } : pos;
  }

  function mutateNorth(state) {
    return { x: state.x, y: state.y - 1 };
  }

  function mutateEast(state) {
    return { x: state.x + 1, y: state.y };
  }

  function mutateSouth(state) {
    return { x: state.x, y: state.y + 1 };
  }

  function mutateWest(state) {
    return { x: state.x - 1, y: state.y };
  }

  function moveCommand(mutator, displayName) {
    return function() {
      var s = displayName;
      var newState = mutator(state);
      var tile = getTileAt(newState.x, newState.y, state.town);
      if (canWalkOn(tile)) {
        if (canMoveTo(tile)) {
          state.x = newState.x;
          state.y = newState.y;
        } else {
          s += "\nSLOW PROGRESS!";
        }
      } else {
        s += "\nBLOCKED!";
      }
      if (state.town!=null && (state.x<0 || state.x>31 || state.y<0 || state.y>31)) {
        state.x = state.worldX;
        state.y = state.worldY
        state.town = null;
        s += "\nLEAVING...";
      } 
      console.write(s+"\n\n");
      return true;
    };

    function canWalkOn(tile) {
      return tilesCanWalkOn.indexOf(tile) != -1;
    }

    function canMoveTo(tile) {
      var difficulty = terrainDifficulty[tile];
      if (difficulty) {
        return randomIntBetween(0, difficulty) > 0;
      } else {
        return true;
      }
    }
  }

  function randomIntBetween(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  function padStringCenter(s, len) {
    if (typeof len == "undefined")
      len = 15;
    if(s.length < len)
      for(var i=(len - s.length)/2; i>0; i--)
        s = " " + s;
    return s;
  }

  function isDirKey(key) {
    return [keys.left, keys.right, keys.up, keys.down].indexOf(key) != -1;
  }

  function getDirKeyName(key) {
    return dirKeyNames[key];
  }

  function commandEnter() {
    var s = "Enter ";    
    if(state.town == null) {
      var loc = getLocation(state.x, state.y);
      var type = getTileAt(state.x, state.y, state.town);
      if(loc) {
        switch (type) {
        case tileType.shrine:
          s += "the\nshrine of\n"+ loc.name;
          s += "\n\nTHOU DOST NOT\nBEAR THE RUNE\nOF ENTRY! A\nSTRANGE FORCE\nKEEPS YOU OUT!\n"
          break;
        case tileType.dungeon:
          s += "dungeon!\n\n" + padStringCenter(loc.name);
          break;
        case tileType.village:          
          state.town = loc.id;
          state.worldX = state.x;
          state.worldY = state.y;
          state.x = 1;
          state.y = 15;
          s += "village!\n\n" + padStringCenter(loc.name);
          break;
        case tileType.town:
          state.town = loc.id;
          state.worldX = state.x;
          state.worldY = state.y;
          state.x = 1;
          state.y = 15;
          s += "towne!\n\n" + padStringCenter(loc.name);
          break;
        case tileType.castle:
        case tileType.LBCastleCenter:
          state.town = loc.id;
          state.worldX = state.x;
          state.worldY = state.y;
          state.x = 15;
          state.y = 30;
          s += "castle!\n\n" + padStringCenter(loc.name);
          break;
        }
      } else
        s += "WHAT?";
    } else
      s += "WHAT?";
    console.write(s + "\n\n");
    return true;
  }
  
  function commandOpen(key) {
    if (key == null) {
      console.write("Open-");
      openDoor = null;
      return false;
    } else {
      var s, pos=null;
      if (isDirKey(key)) {
        s = getDirKeyName(key);
        pos = mutatePosByDir( {x: state.x, y: state.y }, key);
      } else {
        s = String.fromCharCode(key);
      }        
      console.write(s+"\n");
      var tile = pos ? getTownTileAt(pos.x, pos.y, state.town) : null;
      switch (tile) {
      case tileType.doorUnlocked:
        console.write("OPENED!\n\n");
        openDoor = { x: pos.x, y: pos.y, openRound: round };
        break;
      case tileType.doorLocked:
        console.write("CAN'T!\n\n");
        break;
      default:
        console.write("NOT HERE!\n\n");
      }
      return true;
    }
  }

  function commandPass() {
    console.write("Pass\n\n");
    return true;
  }

  function commandTalk(key) {
    if (key == null) {
      console.write("Talk-");
      return false;
    } else {
      if (isDirKey(key)) {
        console.write(getDirKeyName(key));
        console.write("\nFUNNY, NO\nRESPONSE!\n\n");
      } else {
        console.write(String.fromCharCode(key));
        console.write("\nPass\n\n");
      }
      return true;
    }
  }

  function commandVolume() {
    console.write("Volume OFF\n\n");
    return true;
  }

  function keyDown(e) {
    key = e.keyCode;
  }

  function createCanvas() {
    var canvas = document.createElement("canvas");
    canvas.width = 320*2;
    canvas.height = 200*2;
    return canvas;
  }

  function createConsole() {
    var height = 12;
    var width = 15;
    var lines = [""];
    var promptCode = 30;
    var cursorCode = 124;

    function write(str) {
      str.split("\n").forEach(function(s, i) {
        if (i > 0) {
          if (lines.length == height) 
            lines.shift();
          lines.push("");
        }
        lines[lines.length-1] += s;
      });
      hints.drawConsole = true;
    }

    function writePrompt() {
      write(String.fromCharCode(promptCode));
    }

    function drawCursor(g) {
      drawChar(g, cursorCode+3-(frame%4), palette[1], palette[0], (24+lines[lines.length-1].length)*16, (11+lines.length)*16);
    }

    function draw(g) {
      g.fillStyle = '#000';
      g.fillRect(24*16, 12*16, width*16, height*16);
      lines.forEach(function(s, i) {
        if(s.charCodeAt(0) == promptCode) {
          drawChar(g, promptCode, palette[14], palette[0], 24*16, (12+i)*16);
          drawText(g, s.substr(1), palette[1], palette[0], 25*16, (12+i)*16);
        } else
          drawText(g, s, palette[1], palette[0], 24*16, (12+i)*16);
      });
      drawCursor(g);
    }

    return {
      write: write,
      writePrompt: writePrompt,
      draw: draw,
      drawCursor: drawCursor
    };
  }

  function createTiles() {
    var tiles = new Image();
    tiles.src = ultima4.gameData.tiles;
    tiles.onload = onFinishedLoading;
    return tiles;
  }

  function onFinishedLoading() {
    console.write("Welcome to\n");
    console.write("Ultima IV\n\n");
    console.writePrompt();
    repaint();
  }

  function getLocation(x, y) {
    var hit = locations.filter(function(p){ return p.x==x && p.y==y });
    return hit ? hit[0] : null;
  }

  var keys = {
    Space: 32,
    up: 38,
    left: 37,
    down: 40,
    right: 39,
    F1: 112, 
    E: "E".charCodeAt(0),
    O: "O".charCodeAt(0),
    T: "T".charCodeAt(0),
    V: "V".charCodeAt(0),
    Z: "Z".charCodeAt(0)
  };

  var tileType = {
    deepOcean: 0,
    ocean: 1,
    river: 2,
    swamp: 3,
    grass: 4,
    bushes: 5,
    forest: 6,
    hill: 7,
    mountain: 8,
    dungeon: 9,
    town: 10,
    castle: 11,
    village: 12,
    LBCastleLeft: 13,
    LBCastleCenter: 14,
    LBCastleRight: 15,
    tileFloor: 0x16,
    stoneBridge: 0x17,
    woodenBridgeTop: 0x19,
    woodenBridgeBottom: 0x1a,
    ladderUp: 0x1b,
    ladderDown: 0x1c,
    ruins: 0x1d,
    shrine: 0x1e,
    doorLocked: 0x3a,
    doorUnlocked: 0x3b,
    stoneFloor: 0x3e,
    woodenFloor: 0x3f,
    wallSecretDoor: 0x49,
    empty: 69,
    wall: 0x7f
  };

  var terrainDifficulty = (function() {
    var a = {};
    a[tileType.forest] = 2;
    a[tileType.hill] = 2;
    a[tileType.swamp] = 2;
    a[tileType.bushes] = 10;

    return a;
  }());

  var tilesCanWalkOn = [tileType.swamp, tileType.grass, tileType.bushes, tileType.forest, tileType.hill, tileType.dungeon, tileType.town, tileType.castle, tileType.village, tileType.LBCastleCenter, tileType.stoneFloor, tileType.woodenFloor, tileType.stoneBridge, tileType.woodenBridgeTop, tileType.woodenBridgeBottom, tileType.ruins, tileType.shrine, tileType.wallSecretDoor, tileType.tileFloor, tileType.ladderUp, tileType.ladderDown];
  var tilesAnimated = [tileType.deepOcean, tileType.ocean, tileType.river];

  var state = {
    x: 86,
    y: 108,
    town: null,
    food: 10000,
    gold: 200,
    readInput: null
  };

  var palette = ["#000000", "#FDFEFC", "#BE1A24", "#30E6C6", "#B41AE2", "#1FD21E", "#211BAE", "#DFF60A", "#B84104", "#6A3304", "#FE4A57", "#424540", "#70746F", "#59FE59", "#5F53FE", "#A4A7A2"];

  var console = createConsole();
  var worldMap = ultima4.gameData.worldMap;
  var townMaps = ultima4.gameData.townMaps;
  var townInhabitants = (function() {
    var s = ultima4.gameData.townInhabitants;
    var towns = new Array();
    for (var j=0; j<=16; j++) {
      var a = new Array();
      for(var i=0; i<32; i++) {
        var tile = parseHexByte(s, j*256+i*8);
        if(tile != 0) 
          a.push({tile: tile, 
                  x: parseHexByte(s, j*256+i*8+1),
                  y: parseHexByte(s, j*256+i*8+2)});
      }
      towns[j] = a;
    }
    return towns;
  }());

  var tiles = createTiles();
  var canvas = createCanvas();
  var commands = (function() {
    var map = {};
    map[keys.up] = moveCommand(mutateNorth, "North");
    map[keys.right] = moveCommand(mutateEast, "East");
    map[keys.down] = moveCommand(mutateSouth, "South");
    map[keys.left] = moveCommand(mutateWest, "West");
    map[keys.Space] = commandPass;
    map[keys.E] = commandEnter;
    map[keys.O] = commandOpen;
    map[keys.T] = commandTalk;
    map[keys.V] = commandVolume;
    return map;
  }());
  var frame = 0;
  var frameLastCommand = 0;
  var frameTimeMs = 200;
  var round = 0;
  var key = null;
  var activeCommand = null;
  var openDoor = null;
  var isPause = false;
  
  var dirKeyNames = (function() {
    var m = {};
    m[keys.up] = "North";
    m[keys.down] = "South";
    m[keys.left] = "West";
    m[keys.right] = "East";
    return m;
  }());

  var dirPosMutations = (function() {
    var m = {};
    m[keys.up] = { x: 0, y: -1 };
    m[keys.down] = { x: 0, y: +1 };
    m[keys.left] = { x: -1, y: 0 };
    m[keys.right] = { x: +1, y: 0};
    return m;
  }());

  var locations = [
    { id: 0, x: 86, y: 107, name: "BRITANNIA" },
    { id: 1, x: 218, y: 107, name: "THE LYCAEUM" },
    { id: 2, x: 28, y: 50, name: "EMPATH ABBEY" },
    { id: 3, x: 146, y: 241, name: "SERPANTS HOLD" },
    { id: 4, x: 232, y: 135, name: "MOONGLOW" },
    { id: 5, x: 82, y: 106, name: "BRITAIN" },
    { id: 6, x: 36, y: 222, name: "JHELOM" },
    { id: 7, x: 58, y: 43, name: "YEW" },
    { id: 8, x: 159, y: 20, name: "MINOC" },
    { id: 9, x: 106, y: 184, name: "TRINSIC" },
    { id: 10, x: 22, y: 128, name: "SKARA BRAE" },
    { id: 11, x: 187, y: 169, name: "MAGINCIA" },
    { id: 12, x: 98, y: 145, name: "PAWS" },
    { id: 13, x: 136, y: 158, name: "BUCCANEERS DEN" },
    { id: 14, x: 201, y: 59, name: "VESPER" },
    { id: 15, x: 136, y: 90, name: "COVE" },
    { id: 16, x: 240, y: 73, name: "DECEIT" },
    { id: 17, x: 91, y: 67, name: "DESPISE" },
    { id: 18, x: 72, y: 168, name: "DASTERD" },
    { id: 19, x: 126, y: 20, name: "WRONG" },
    { id: 20, x: 156, y: 27, name: "COVETOUS" },
    { id: 21, x: 58, y: 102, name: "SHAME" },
    { id: 22, x: 239, y: 240, name: "HYLOTHE" },
    { id: 23, x: 233, y: 233, name: "THE GREAT\n\tSTYGIAN ABYSS!" },
    { id: 24, x: 233, y: 66, name: "HONESTY" },
    { id: 25, x: 128, y: 92, name: "COMPASSION" },
    { id: 26, x: 36, y: 229, name: "VALOR" },
    { id: 27, x: 73, y: 11, name: "JUSTICE" },
    { id: 28, x: 205, y: 45, name: "SACRIFICE" },
    { id: 29, x: 81, y: 207, name: "HONOR" },
    { id: 30, x: 231, y: 216, name: "SPIRITUALITY" },
    { id: 31, x: 231, y: 216, name: "HUMILITY" } ];

  var frameCharLines = [
    [16, 0, 0, 0, 0, 0, 1],
    [4, 1, 16, 0, 16, 0, 9],
    [30, 0, 10*16, 0, 0, 0, 1],
    [28, 0, 13*16, 0, 0, 0, 1],
    [4, 1, 14*16, 0, 16, 0, 9],
    [0, 0, 23*16, 0, 0, 0, 1],
    [4, 1, 24*16, 0, 16, 0, 15],
    [18, 0, 39*16, 0, 0, 0, 1],
    [10, 1, 0, 16, 0, 16, 22],
    [20, 0, 0, 23*16, 0, 0, 1],
    [2, 1, 16, 23*16, 16, 0, 5],
    [30, 0, 6*16, 23*16, 0, 0, 1],
    [28, 0, 17*16, 23*16, 0, 0, 1],
    [2, 1, 18*16, 23*16, 16, 0, 5],
    [12, 1, 23*16, 16, 0, 16, 8],
    [8, 1, 23*16, 9*16, 0, 0, 1],
    [12, 1, 23*16, 10*16, 0, 0, 1],
    [8, 1, 23*16, 11*16, 0, 0, 1],
    [12, 1, 23*16, 12*16, 0, 16, 11],
    [10, 1, 23*16, 23*16, 0, 0, 1],
    [8, 1, 39*16, 16, 0, 16, 8],
    [0, 1, 39*16, 9*16, 0, 0, 1],
    [8, 1, 39*16, 10*16, 0, 0, 1],
    [6, 1, 24*16, 9*16, 16, 0, 15],
    [6, 1, 24*16, 11*16, 16, 0, 15],
    [4, 1, 39*16, 11*16, 0, 0, 1]];

  var hints = {
    redrawScreenFrames: true,
    clearScreen: true,
    drawConsole: true,
    drawInfo: true
  };

  document.write("<body>");
  document.onkeydown = keyDown;
  document.body.appendChild(canvas);
  update();

  return {
    state: state
  };
}());